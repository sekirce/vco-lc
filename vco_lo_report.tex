%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Lachaise Assignment
% LaTeX Template
% Version 1.0 (26/6/2018)
%
% This template originates from:
% http://www.LaTeXTemplates.com
%
% Authors:
% Marion Lachaise & François Févotte
% Vel (vel@LaTeXTemplates.com)
%
% License:
% CC BY-NC-SA 3.0 (http://creativecommons.org/licenses/by-nc-sa/3.0/)
% 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%----------------------------------------------------------------------------------------
%	PACKAGES AND OTHER DOCUMENT CONFIGURATIONS
%----------------------------------------------------------------------------------------

\documentclass{article}

\input{structure.tex} % Include the file specifying the document structure and custom commands

\usepackage[colorlinks]{hyperref}
\usepackage{siunitx}

% need to add font encoding, used to check if it changes something
\usepackage[T1]{fontenc}

% added for two figures next to each other
\usepackage{caption}
\usepackage{subcaption}

%----------------------------------------------------------------------------------------
%	ASSIGNMENT INFORMATION
%----------------------------------------------------------------------------------------

\title{Low Noise 6-8 GHz VCO with Differential Tuning as part of PLL} % Title of the assignment

\author{Aleksandar Vuković} % Author name and email address

\date{\today} % University, school and/or department name(s) and a date

%----------------------------------------------------------------------------------------

\begin{document}

\maketitle % Print the title

%----------------------------------------------------------------------------------------
%	INTRODUCTION - First Page
%----------------------------------------------------------------------------------------

\section*{Introduction}

working title % TODO Maybe abstract 
\\
This needs to be added to body of document % razrada

The open items I recorded are:
\begin{itemize}
	\item Packaging concerns, risks and schedule
	\item Die quantity and meaningful sample volume
	\item test chip content and expectations
	\item overall schedule for the follow-on tape out in 2025
\end{itemize}

Planning per core:

\begin{itemize}
	\item Design -- 10 days
	\item Layout -- 10 days
	\item Verification -- 0 day
\end{itemize}


% LOOKINTO BSE or LBE 

% \subsection*{Complaints and suggestions regarding VCO} % add to 
% MOVED TO VCO

% TODO: make a python script to turn csv or xlcsv file into a latex table 

% TODO: check how to test reliability of the design. breakdown voltages
% HCI	- Hot Carrier Injection
% NBTI	- Negative-Bias Temperature Instability
% PBTI	- Positive-Bias Temperature Instability
% TDDB	- Time Dependent Dielectric Breakdown
% LBE 	- Localized Backsided Etching
% FTR	- Fine Tuning Range (unit is percentage)
% EM	- Electro Magnetic
% CML	- Common Mode Logic
% QFN	- Quad Flat No lead
% MEMS	- MicroElectronical Mechanical Systems
% SIW	- Substrate Integrated Waveguide
% PSD	- Power Spectral Density
% Q		- Quality (factor usually)

% about SIW
% ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
% Substrate integrated waveguide (SIW) resonators are
% characterized by high quality (Q) factor, easy integration with
% planer circuits, and lower conductive loss. 

% Oscillators made in SIW

% Samundra K. Thapa, Baichuan Chen, Adel Barakat, Kuniaki Yoshitomi, Ramesh K. Pokharel
% Miniaturized Slot-Loaded SIW Resonator and Its
% Application to C-band Low Phase Noise Oscillator


% Z. Chen, W. Hong, J. Chen and J. Zhou, "Design of High-Q Tunable
% SIW Resonator and Its Application to Low Phase Noise VCO," in IEEE
% Microwave and Wireless Components Letters, vol. 23, no. 1, pp. 43-45,
% Jan. 2013.
% [6] F. F. He, K. Wu, W. Hong, L. Han and X. Chen, "A Low Phase-Noise
% VCO Using an Electronically Tunable Substrate Integrated Waveguide
% Resonator," in IEEE Transactions on Microwave Theory and
% Techniques, vol. 58, no. 12, pp. 3452-3458, Dec. 2010.
% [7] Z.Yang, B. Luo, J. Dong, T. yang and H. Jin, "Low phase noise
% oscillator based on quarter mode substrate integrated technique," IEICE
% Electronics Express, vol. 12, no. 6, pp. 1-6, 2015.
% [8] C. M. Wu, T. Itoh, A. K. Poddar and U. L. Rohde, "A C-band tunable
% oscillator based on complementary coupled resonator using substrate
% integrated waveguide cavity," 2014 44th European Microwave
% Conference, Rome, 2014, pp. 715-718.

% \subsection*{My current problems and work in progress}
% MOVED TO VCO

% TOSEARCH for Samuel papers


% ===============================================
% NGSPICE + SG13G2
% ===============================================

\section{Quality of Life - software tools}

\subsection{Open Source Software}

\subsubsection{NGSPICE}


Regarding open-source PDK for SG13G2, it's work in progress, but
I think worth to consider. Even if just the simulator can be replaced
with ngspice or xyce, it could boost productivity from not being license-bound.
Please check this out:
\href{https://github.com/IHP-GmbH/IHP-Open-PDK/tree/main/ihp-sg13g2}{\textbf{ihp sg13g2}}

Documentation on github is sparse, some more info is here:
\href{https://www.ihp-microelectronics.com/events-1/detail/openpdk-opentooling-and-open-source-design-an-initiative-to-push-development}{\textbf{openPDK opeentooling and open source design}}

\href{https://www.ihp-microelectronics.com/services/research-and-prototyping-service/fast-design-enablement/open-source-pdk}{\textbf{open source PDK, research and prototyping}}



\subsubsection{Required libraries - Linux Installation}

libxaw7-dev and libreadline6-dev
\\
KiCad plus ngspice

% \begin{verbatim}
% 	/home/aleksandarvukovi/ngspice-42/examples/osdi/hicuml0/Modelcards/model-card-hicumL0V1p11_mod.lib	
% \end{verbatim}



\subsubsection{openEMS}

openEMS is a free and open source electromagnetic field solver based on the Finite-Difference Time Domain (FDTD) method. Using an improved version of the highly-successful FDTD method (known as Equivalent-Circuit FDTD, or EC-FDTD), openEMS solves Maxwell's equations in discretized space and time to directly simulates the propagation of electromagnetic waves, in a 3D full-wave manner. It has the potential to analyze problems in important applications such as RF/microwave circuit design, antenna, radar, meta-material, and medical research.

\subsection{Commercial software}

\subsubsection{EMX and Momentum}


\newpage

\subsection{Change font in Visualisation Cadence}

Example:

\begin{verbatim}
	myFont = "Roboto Mono Medium,14,-1,5,75,0,0,0,0,0"
	envSetVal("viva.horizMarker" "font" 'string myFont)
	envSetVal("viva.referenceLineMarker" "font" 'string myFont)
	envSetVal("viva.vertMarker" "font" 'string myFont)
	envSetVal("viva.pointMarker" "font" 'string myFont)
	envSetVal("viva.refPointMarker" "font" 'string myFont)
	envSetVal("viva.specMarker" "font" 'string myFont)
	envSetVal("viva.interceptMarker" "font" 'string myFont)
	envSetVal("viva.circleMarker" "font" 'string myFont)
	envSetVal("viva.interceptMarker" "font" 'string myFont)
	envSetVal("viva.multiDeltaMarker" "font" 'string myFont)
	envSetVal("viva.transEdgeMarker" "font" 'string myFont)

	envSetVal("viva.trace" "lineThickness" 'string "thick")
	envSetVal("viva.trace" "lineStyle" 'string "solid")
	envSetVal("viva.trace" "symbolsOn" 'string "true")
	envSetVal("viva.trace" "symbolStyle" 'string "Diamond")
\end{verbatim}



\subsection{VerilogA Decoder Code}

\begin{file}[Example of 15 bit decoder]
	\begin{lstlisting}
	`include "disciplines.vams"
	module Decoder_15bit_va(L);
	output     [14:0] L;
	electrical [14:0] L;

	parameter real 	tdel 	= 20.0p,
			trise	= 40p,
			tfall	= 40p,
			VDD 	= 1.1;
	parameter integer select = 0;
	integer   out[14:0], mask, i, j;

	analog begin
	
	@(initial_step) begin
		for(i=14; i>=0; i=i-1) begin
		mask=1;
		for(j=1; j<=i; j=j+1) mask=mask*2;
		out[i]=(select & mask) >> i;
		end
	end

	V(L[0]) <+ transition(VDD * out[0],
	 tdel, trise, tfall);
	V(L[1]) <+ transition(VDD * out[1],
	 tdel, trise, tfall);
	V(L[2]) <+ transition(VDD * out[2],
	 tdel, trise, tfall);
	V(L[3]) <+ transition(VDD * out[3],
	 tdel, trise, tfall);
	V(L[4]) <+ transition(VDD * out[4],
	 tdel, trise, tfall);
	V(L[5]) <+ transition(VDD * out[5],
	 tdel, trise, tfall);
	V(L[6]) <+ transition(VDD * out[6],
	 tdel, trise, tfall);
	V(L[7]) <+ transition(VDD * out[7],
	 tdel, trise, tfall);
	V(L[8]) <+ transition(VDD * out[8],
	 tdel, trise, tfall);
	V(L[9]) <+ transition(VDD * out[9],
	 tdel, trise, tfall);
	V(L[10]) <+ transition(VDD * out[10],
	 tdel, trise, tfall);
	V(L[11]) <+ transition(VDD * out[11],
	 tdel, trise, tfall);
	V(L[12]) <+ transition(VDD * out[12],
	 tdel, trise, tfall);
	V(L[13]) <+ transition(VDD * out[13],
	 tdel, trise, tfall);
	V(L[14]) <+ transition(VDD * out[14],
	 tdel, trise, tfall);

	end  
	endmodule
	\end{lstlisting}
\end{file}

\newpage

\subsubsection*{Saving Histories in ADE explorer}

\href{https://community.cadence.com/cadence_blogs_8/b/cic/posts/virtuosity-exploring-histories}{Virtuosity: Exploring Histories}
\begin{verbatim}
envSetVal("maestro.explorer" "onHistoryNameCollision" 'cyclic "Overwrite")
envSetVal("adexl.historyNamePrefix" "showNameHistoryForm" 'boolean t)
envSetVal("maestro.explorer" "onHistoryNameCollision" 'cyclic "IncrementAsNew")
\end{verbatim}

\subsubsection*{PVS Design Flow}

\begin{itemize}
	\item PVS DRC 
	\item PVS LVS - you can setup Quantus from here
	\item Quantus PVS 
\end{itemize}


%----------------------------------------------------------------------------------------
%	Technical offer for the start of project
%----------------------------------------------------------------------------------------

\section{Evaluation Summary}


\subsection{Novelic Technical Offer}

Document before the start of the project. Here are technical Novelic evaluation summary on provided documents:  % Point 3 

\begin{itemize}
	\item Overall conclusion is that: the provided report contains almost the same type of the architecture, like provided in Novelic \& Nirsen study. 
	\item However, the simulation provided by customer does not include process corners and temp range. We see TT process and nominal temp. It is clear that temperature and process deviation will influence the performance of the power detector, which imposes the design risks. % impose risk
	% Imposing risk thus involves subjecting one or more people to some probability that they will suffer a setback to their interests, however those interests might be construed.
	% construed here means managed
	\item Dead zone of PFD which they are claiming that cannot measure is not that critical, more important is blind zone which is in our case on schematic in order of 0.5*Tosc at 8GHz in some corners. This is also a design risk. 
	\item All provided schematics are not including any parasitic estimates which make significant difference as we saw in our simulations. This is a design risk. 
	\item Robustness over supply voltage variation imposes the design risk.
	\item Further technical explanation is following:
	% here need to use idented itemize somehow
	\item Reset path of this and all similar PFDs has minimum 5 logic gates in signal path.
	
	\item Let's assume propagation through gate is 5ps (schematic, typical, in reality and over PVT is even worse!). Period of signal is 125ps at 8GHz which means we are loosing 20\% of period just for propagation. Layout parasitics will degrade this to 40\% in typical. For reset delay > 50\% of period we cannot make a lock of PLL by design. This presents a design risk.
	\item In the provided document SiGe solution was not simulated in closed loop scenario - PFD and CP tested separately with optimistic separation between input signals. This presents a design risk.
	\item Mixer gm PFD is good try but followed by ideal VCO in the provided document.  So, we can confirm to get similar PFD values like in initial simulations. But provided simulation does not include any real VCO with imperfections.  By this approach PLL will work good if VCO is ideal, with possibly too optimistic phase noise profile. This presents a design risk.
	\item If the mixer is used in PFD (like possible proposed option) basically we would have PHASE ONLY locking, while if input frequencies of the PFD are significantly apart from each other, so we will not have PLL in LOCK state. This is the most likely scenario since range of input frequencies is 1-8GHz. So most probably this approach can be followed for design.
	\item In entire document provided by End user, Novelic do not see any VCO design, which is the most critical part besides PFD, so VCO is considered as an ideal VCO.  
	% PLL model
	\item Based on Novelic previous experience, and comparison to the state-of-the-art performance in journal/conference publications and/or patents we could not confirm feasibility of making VCO with required phase noise requirements, like in initial specifications. 

\end{itemize}

\newpage

\subsection{Specification and Design Review Plan} % Original plan

Suggestion on how to review and specify chip and comparable options:

\begin{itemize}
	\item Preliminary Design Review	- PDR
	\item Critical Design Review	- CDR
	\item Voltus or Voltera to check currents
	\item acquire evaluation boards (EVB) for ADF6610, LMX2594
	% \item Packaging, actual implementation, could be different for different process nodes
	\item Testability options within chip
	\item VCO registers/overriding
	\item External test requirements/definitions
\end{itemize}

% Collection of reference papers to read when bored

\subsection{List of reference papers} % collected by Anthony

This is a list of papers regarding the CMOS technology similar to 130 nm collected by Anthony.

\begin{enumerate}
	\item A Stacked-Complementary 5 GHz Oscillator With Even-Only Differential Harmonic Shaping Achieving -150 dBc/Hz Phase Noise at 10-MHz Offset Using Body-Biased Thin-Oxide 22-nm FDSOI
	\item A VCO with Implicit Common-Mode Resonance
	\item A 2.3 - 5-GHz LC-VCO With Source Damping Resistors to Suppress 1/f Noise Up-Conversion
	\item A 6.7-to-9.2GHz 55nm CMOS Hybrid Class-B/Class-C Cellular TX VCO
	\item A 25\% Tuning Range 7.5- 9.4 GHz Oscillator With 194 FoMT and 400 kHz 1/f3 Corner in 40nm CMOS Technology
	\item A Filtering Technique to Lower LC Oscillator Phase Noise
	\item A Low Phase Noise and High FoM Distributed-Swing-Boosting Multi-Core Oscillator Using Harmonic-Impedance-Expanding Technique
	\item A Low Phase Noise, High Phase Accuracy Quadrature LC-VCO With Dual-Tail Current Biasing to Insert Reconfigurable Phase Delay
	\item A Low Phase Noise Oscillator Principled on Transformer-Coupled Hard Limiting
	\item A Noise Circulating Oscillator
	\item Ultra-Low Phase Noise X-Band BiCMOS VCOs Leveraging the Series Resonance
	\item An Ultra-Low Phase Noise Class-F2 CMOS Oscillator With 191 dBc/Hz FoM and Long-Term Reliability
	\item CMOS Differential LC Oscillator with Suppressed Up-Converted Flicker Noise - Aly Ismail, Asad A. Abidi
	\item Design of LC Resonator for Low Phase Noise Oscillators
	\item Even-Harmonic Class-E CMOS Oscillator
	\item Implicit Common-Mode Resonance in LC Oscillators
	\item Third-Harmonic Injection Technique Applied to a 5.87-to-7.56 GHz 65nm CMOS Class-F Oscillator with 192dBc/Hz FOM
\end{enumerate}

% \newpage

\subsection{A Noise Circulating Oscillator}

Oscillator phase noise is a fundamental metric that governs a wide variety of design aspects in modern communication and sensing systems [1], [2]

\begin{enumerate} % RF books
	\item B. Razavi, RF Microelectronics, 2nd ed. Englewood Cliffs, NJ, USA: Prentice-Hall, 2011. 
	\item T. H. Lee, The Design of CMOS Radio-Frequency Integrated Circuits. Cambridge, U.K.: Cambridge Univ. Press, 2004.
\end{enumerate}

% ======================================================
% ABOUT CMOS VCO PAPERS
% ======================================================

\subsection{About CMOS papers}

% I went through papers that Samuel sent, used the Anthony excel formulas to get phase noise results for comparison.

Franceschin paper has the best noise performance by far. It's made in SiGe 55 nm and using bipolar transistors in core, consumes 500 mA and the output swing is clipped by diode connected bipolars which enables this much current without affecting bipolars operation.

Babaie papers are made in CMOS and are more similar to current design. It utilises step up transformers with different common and differential k factors to decouple capacitor bank from the core and control its drain currents to make a class F2. But I currently don't know how to implement this because I don't have any ideal transformer models with different k factor for differential and common modes.

Ying paper has a similar idea calls it class F23 and also ok results which makes me think this it the most viable idea from all of these papers to try.

% In attachment you can find excel with some extracted information.

\subsubsection{Paper on YIG VCO}

A Low-Noise Transmission-Type Yttrium Iron Garnet Tuned Oscillator Based on a SiGe MMIC and Bond-Coupling Operating up to 48 GHz Marcel van Delden , Student Member, IEEE, Nils Pohl , Senior Member, IEEE, Klaus Aufinger , Member, IEEE, Christoph Baer , Member, IEEE, and Thomas Musch, Member, IEEE


\begin{info}
	Second, tuneable opto-electronic oscillators (TOEO) use sophisticated optical resonators to tune the output frequency in the microwave range. They offer a high bandwidth of up to more than one octave and low phase noise at the same time [19], [20]. However, TOEOs require at least a laser, an optical resonator, an electrooptic phase or amplitude modulator, a fast photodiode, a delay line as well as a filter, and an amplifier for microwave frequencies. High-performance TOEOs like [19], [20] require even more and sophisticated components. Thus, TOEOs are expensive and complex.
\end{info}

\section{Packaging Technology Options}

\begin{itemize}
	\item Flip Chip
	\begin{itemize}
		\item Solder balls on Nickel/Gold finish (time consuming) % time consuming in regards to time added to fabrication
		\item Heat Spreader (Graphene-based)
		\item Underfill materials
		\item Redistribution layers(?)
	\end{itemize}
	\item Copper Pillar (flipped die)
	\begin{itemize}
		\item 30um min diameter, better thermal conductivity
		\item More stable (no need for underfill)
		\item Heat spreader most likely needed
	\end{itemize}
	\item Chip on board
	\begin{itemize}
		\item Glue chip on PCB cavity (non-conductive glue needed if BSE)
		\item Only backside cooling available
		\item Connect with wirebonds
	\end{itemize}
	\item Open cavity QFN
	\begin{itemize}
		\item Similar to chip on board
		\item Extra penalty due to higher thermal resistance of package
	\end{itemize}
\end{itemize}

On packaging from Elad:

\begin{info}
	I was asked to give my opinion regarding silicone component packaging.\\
	Since the size of the component is (on the major axis) 3.5 and down bonds to the ground are required on both sides, you need to verify the distance of the pads of the component from the edge of the die, the closer you can use a smaller ground surface. Assuming that the pads reach the edge, it will be possible to use a ground surface in a package of  4.1 \unit{mm}, depending on the planning design rules of the Assembly house. \\
	In light of this, I recommend considering using the RJR air cavity 6 x 6 \unit{mm} package and its lid. \\
	Regarding the glue, since the CTE gap between the component and the packaging is large, I recommend using the glue (I think they thought of this direction) me8456lv, which has a thermal conductivity of around 6W/m \\
	\href{https://www.rjrtechnologies.com/}{\textbf{rjrtechnologies website}}
\end{info}

QFN stands for \textbf{Q}uad \textbf{F}lat \textbf{N}o lead.

Number of pins is important for packaging - keep it below 32.

% List of my questions for me?
% Is this open cavity? What are cavities used for?
% What about the extra penalty due to higher thermal resistance (thermal conductivity)
% What is laminate?


\begin{figure}[ht!]
	\centering % try to centre it
	\includegraphics[width=0.5\linewidth]{Figures/RQFN-4-mm.png}
	\caption{RQFN packaging example }
	\label{fig:rqfn-example}
\end{figure}

\subsection{Flip Chip as a packaging option}

Flip chip, also known as controlled collapse chip connection or its abbreviation, C4, is a method for interconnecting dies such as semiconductor devices, IC chips, integrated passive devices and microelectromechanical systems (MEMS), to external circuitry with solder bumps that have been deposited onto the chip pads. This is in contrast to wire bonding, in which the chip is mounted upright and fine wires are welded onto the chip pads and lead frame contacts to interconnect the chip pads to external circuitry.

% ==============================================
% PACKAGING options
% ==============================================

\subsection{Packaging house options}

Packaging house options are:

\begin{itemize}
	\item TAI PRO
	\begin{itemize}
		\item \href{https://www.taipro.be/production}{\textbf{Website for Production}}
	\end{itemize}
	\item PacTech (IHP has collaboration with them)
	\begin{itemize}
		\item \href{https://pactech.com/wafer-level-packaging-services/}{\textbf{Website for Wafer Level Packaging Services}}
	\end{itemize}
	\item IZM
	\begin{itemize}
		\item \href{https://www.izm.fraunhofer.de/en/abteilungen/wafer-level-system-integration/leistungsangebot/fine-pitch-bumping-for-pixel-detectors.html}{\textbf{Website for Fine Pitch Bumping for Pixel Detectors}}
		\item \href{https://www.izm.fraunhofer.de/en/abteilungen/wafer-level-system-integration/leistungsangebot/single_chip_bumping.html}{\textbf{Website for Single Chip Bumping}}
	\end{itemize}
	\item RJR Technologies
	\begin{itemize}
		\item \href{https://www.rjrtechnologies.com/}{\textbf{Website}}
	\end{itemize}
\end{itemize}

% Additional option is GP technologies

% Belgium company is for packaging

% California houses
% QP technologies
% spectrum semi

\subsection{Packaging terms by AMPLEON}

Packaging is an important element in RF power transistors, influencing both the cost-efficiency and performance of a given device. Since peak powers can vary widely, from as low as 5 W to more than 1 kW, a range of packages is needed to cover every application. The choice of package format (air-cavity or overmolded plastic), often depends on the design requirements, and any \textbf{trade-offs to be made between performance and cost.} \\

\href{https://www.ampleon.com/packages.html}{\textbf{Source for ampleon packaging}}

Types of packaging:

\begin{itemize}
	\item Air-Cavity Ceramic (ACC)
	\item Air-Cavity Plastic (ACP)
	\item Overmolded Plastic (OMP)
\end{itemize}

\subsection{Definition of terms regarding packaging from RJR technologies}

\begin{itemize}
	\item PRQFN - stands for RJR's thermally enhanced \textbf{P}ower ai\textbf{R}-cavity \textbf{Q}uad \textbf{F}lat \textbf{N}o-leads package
	\item Substrate - the base material that holds the circuit and components (chips, wires, and caps) of semiconductor devices
	\item Coupon - a square panel containing a cluster of substrates
	\item Strip - a rectangular laminate panel containing 4 in-line coupons
	\item Laminate - a substrate technology composed of several layers that are pressed/laminated together
	\item Heatslug - a square or rectangular Cu-coin inserted in the middle of the laminate substrate
	\item Via hole - a hole drilled from top to bottom of the substrate and is used for connecting the terminals on top to the corresponding soldering pads underneath
	\item ENEPIG - stands for Electroless Nickel Electroless Palladium Immersion Gold; the die bondable and wire bondable plating on top of Cu-traces in a laminate
	\item Terminal - metal (Cu) traces that serves as connection of the device into the outside world
	\item Solder resist - a thin layer of polymer that is usually applied on top of Cu-traces of the laminate substrate for protection against oxidation, and around the soldering pads to prevent solder bridges from forming between closely spaced solder pads
\end{itemize}

\subsection{Die layout example}

This is an example (estimation) for this PLL project die size and layout:

\begin{figure}[ht!]
	\centering % try to center it
	\includegraphics[width=0.5\linewidth]{Figures/die-size-with-pads.png}
	\caption{Die layout with pads }
	\label{fig:die-size-with-pads}
\end{figure}

Also important is the pin count. Absolute minimum is 8 mm x 8 mm.

\begin{figure}[ht!]
	\centering % try to center it
	\includegraphics[width=0.5\linewidth]{Figures/powerpoint-toplevel-packaging.png}
	\caption{Top layout and packaging choice}
	\label{fig:powerpoint-toplevel-packaging}
\end{figure}

% \begin{figure}
% \centering
% \begin{subfigure}{.5\textwidth}
% 	\centering
% 	\includegraphics[width=.4\linewidth]{image1}
% 	\caption{A subfigure}
% 	\label{fig:sub1}
% \end{subfigure}%
% \begin{subfigure}{.5\textwidth}
% 	\centering
% 	\includegraphics[width=.4\linewidth]{image1}
% 	\caption{A subfigure}
% 	\label{fig:sub2}
% \end{subfigure}
% \caption{A figure with two subfigures}
% \label{fig:test}
% \end{figure}

% \begin{figure}
% \centering
% \begin{minipage}{.5\textwidth}
% 	\centering
% 	\includegraphics[width=.4\linewidth]{image1}
% 	\captionof{figure}{A figure}
% 	\label{fig:test1}
% \end{minipage}%
% \begin{minipage}{.5\textwidth}
% 	\centering
% 	\includegraphics[width=.4\linewidth]{image1}
% 	\captionof{figure}{Another figure}
% 	\label{fig:test2}
% \end{minipage}
% \end{figure}


\section{Test Chip Architecture}

Removed CMOS VCO design.

\begin{figure}[ht!]
	\centering % try to center it
	\includegraphics[width=0.5\linewidth]{Figures/test-chip-arch.png}
	\caption{Test Chip Architecture Block Scheme}
	\label{fig:test-chip-arch}
\end{figure}


\subsection*{Identified various risks} % for project plan

\begin{itemize}
	\item VCO phase noise contributors
	\item PFD topology and “blind spots” % not sure how is this tackled?
	\item Discussed design methodology to be finalized in next couple of days
	\item Obtained PDK and discussed risk mitigation strategies % PDK : SG13G2
	\item Started authoring chip system specification
	\item Started project plan with internal and external milestones
	\item Agenda: project progress towards milestones, technical discussion
	\item Review \& signoff of project milestones and plan
	\item Review system specification draft 
	\item Packaging option
\end{itemize}

% how to calculate the eq tank Rpar

% \section{External and internal milestones}
% Internal are given by anthony
% \subsection{Internal milestones}

% fixed by modifying model files

% \section{Blocks needed} 
% MOVED AFTER VCO


% what does fuses not available mean?

%===================================================================================================================================================================================================
% VCO THEORY, DESIGN, RESULTS
%===================================================================================================================================================================================================
\newpage

\include{vco-design-and-theory}

%----------------------------------------------------------------------------------------
%	NON VCO PARTS OF PLL
%----------------------------------------------------------------------------------------


\section{Non VCO parts of PLL}
%----------------------------------------------------------------------------------------


\begin{itemize}
	\item Bandgap PTAT (CTAT?)  % used for
	\item Digital: State Machines, fuses are not available
	\item Digital: Register Bank for VCO bands, cores
	\item DAC, not necessary
	\item PFD + CP
	\item Passive Differential Loop Filter
	\item Balun is off chip. Multiplexer is high frequency up to 80 GHz - differential amplifier structure.
	\item PLL lock circuit
\end{itemize}

\subsection{PFD topology and blind zone } % called "blind spots"

% Question for Anthony and Anthimos

Reset path delay is needed because of dead zone and that is why blind zone was much worse than expected. % so this is a trade-off
\\

\subsection{Loop Filter}

Two options are:

\begin{table}[!ht]
    \centering
    \begin{tabular}{|l|l|}
    \hline
		option 1 & option 2 \\ \hline
        active & passive \\ \hline
        External OpAmp & Diff Charge Pump \\ \hline
        Single-ended Tuning & Differential Tuning \\ \hline
    \end{tabular}
\end{table}

Passive loop filter is chosen because of better phase noise performance.




\subsubsection*{Active Loop Filter Operational Amplifier}

\begin{table}[!ht]
    \centering
    \begin{tabular}{|l|p{100mm}|}
    \hline
        OA Characteristic & Impact/Considerations \\ \hline
        Supply Voltage & The op amp needs to allow the supply range needed for rail-to-rail i/o operation. No obligation to use negative supply rail. \\ \hline
        I/O Common mode range & Output common mode range should allow the VCO to cover the entire tuning range and the input also needs to be rail to rail.* \\ \hline
        Noise Voltage ($nV/\sqrt{Hz}$) & The voltage noise causes phase noise degradation, especially near the loop bandwidth. Smaller is better. \\ \hline
        Minimum Stable Gain & Unity gain stable is preferred. \\ \hline
        Input Bias Currents & This parameter will affect phase detector spurs. Smaller is better. \\ \hline
        Gain Bandwidth Product & As a rough rule of thumb, one would want the gain bandwidth product to be at least 50 times the loop bandwidth. 
		\\ \hline
    \end{tabular}
\end{table}

\begin{itemize}
	\item [*] This is important even in fixed bias topologies as the input voltage connected to the PLL charge pump output will start at the lower rail on power-up.
\end{itemize}

Some commercial part examples to look into:
\begin{itemize}
	\item OP184
	\item AD820
	\item AD8661 
\end{itemize}

\include{spi}
%----------------------------------------------------------------------------------------
\section{Commercial Parts}

Commercial parts used as alternative or to augment the design.

\subsubsection*{LMX2592}
LMX2592 High Performance, Wideband PLLatinuTM RF Synthesizer With Integrated VCO
\\
VCO Phase Noise: –134.5 dBc/Hz at 1-MHz
\\
Offset for 6-GHz Output
\\
Industry Leading Phase Noise Performance 
\\
VCO Phase Noise: –134.5 dBc/Hz at 1-MHz Offset for 6-GHz Output
\\
Normalized PLL Noise Floor: –231 dBc/Hz 
\\
Normalized PLL Flicker Noise: –126 dBc/Hz – 49-\unit[]{\fs} RMS Jitter (12 kHz to 20 MHz) for 6 GHz Output
\\
Applications: 
\begin{itemize}
	\item Test and Measurement Equipment
	\item Defence and RADAR
	\item Microwave Backhaul
	\item High-Performance Clock Source for High-Speed
	\item Data Converters
	\item Satellite Communications
\end{itemize}

% Find the commercial part for LDO (Low-dropout regulator)

\subsubsection*{TPS7A8300}

Texas Instruments: TPS7A8300 2-A,6-\unit{\micro\volt} RMS,RF,LDOVoltage Regulator

\begin{figure}[ht!]
	\includegraphics[width=0.5\linewidth]{Figures/LDO-noise-characteristic.png}
	% \caption{Difference between class C and class B}
	\label{fig:ldo-noise-documntation}
\end{figure}


\subsubsection*{HP4352S}

powerful VCO/PLL test system, the HP4352S

\include{old-project}

% Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent porttitor arcu luctus, imperdiet urna iaculis, mattis eros. Pellentesque iaculis odio vel nisl ullamcorper, nec faucibus ipsum molestie. Sed dictum nisl non aliquet porttitor. Etiam vulputate arcu dignissim, finibus sem et, viverra nisl. Aenean luctus congue massa, ut laoreet metus ornare in. Nunc fermentum nisi imperdiet lectus tincidunt vestibulum at ac elit. Nulla mattis nisl eu malesuada suscipit.

% % Math equation/formula
% \begin{equation}
% 	I = \int_{a}^{b} f(x) \; \text{d}x.
% \end{equation}

% Aliquam arcu turpis, ultrices sed luctus ac, vehicula id metus. Morbi eu feugiat velit, et tempus augue. Proin ac mattis tortor. Donec tincidunt, ante rhoncus luctus semper, arcu lorem lobortis justo, nec convallis ante quam quis lectus. Aenean tincidunt sodales massa, et hendrerit tellus mattis ac. Sed non pretium nibh. Donec cursus maximus luctus. Vivamus lobortis eros et massa porta porttitor.

% \begin{info} % Information block
% 	This is an interesting piece of information, to which the reader should pay special attention. Fusce varius orci ac magna dapibus porttitor. In tempor leo a neque bibendum sollicitudin. Nulla pretium fermentum nisi, eget sodales magna facilisis eu. Praesent aliquet nulla ut bibendum lacinia. Donec vel mauris vulputate, commodo ligula ut, egestas orci. Suspendisse commodo odio sed hendrerit lobortis. Donec finibus eros erat, vel ornare enim mattis et.
% \end{info}

% %----------------------------------------------------------------------------------------
% %	PROBLEM 1
% %----------------------------------------------------------------------------------------

% \section{Problem title} % Numbered section

% In hac habitasse platea dictumst. Curabitur mattis elit sit amet justo luctus vestibulum. In hac habitasse platea dictumst. Pellentesque lobortis justo enim, a condimentum massa tempor eu. Ut quis nulla a quam pretium eleifend nec eu nisl. Nam cursus porttitor eros, sed luctus ligula convallis quis. Nam convallis, ligula in auctor euismod, ligula mauris fringilla tellus, et egestas mauris odio eget diam. Praesent sodales in ipsum eu dictum.

% %------------------------------------------------

% \subsection{Theoretical viewpoint}

% Maecenas consectetur metus at tellus finibus condimentum. Proin arcu lectus, ultrices non tincidunt et, tincidunt ut quam. Integer luctus posuere est, non maximus ante dignissim quis. Nunc a cursus erat. Curabitur suscipit nibh in tincidunt sagittis. Nam malesuada vestibulum quam id gravida. Proin ut dapibus velit. Vestibulum eget quam quis ipsum semper convallis. Duis consectetur nibh ac diam dignissim, id condimentum enim dictum. Nam aliquet ligula eu magna pellentesque, nec sagittis leo lobortis. Aenean tincidunt dignissim egestas. Morbi efficitur risus ante, id tincidunt odio pulvinar vitae.

% Curabitur tempus hendrerit nulla. Donec faucibus lobortis nibh pharetra sagittis. Sed magna sem, posuere eget sem vitae, finibus consequat libero. Cras aliquet sagittis erat ut semper. Aenean vel enim ipsum. Fusce ut felis at eros sagittis bibendum mollis lobortis libero. Donec laoreet nisl vel risus lacinia elementum non nec lacus. Nullam luctus, nulla volutpat ultricies ultrices, quam massa placerat augue, ut fringilla urna lectus nec nibh. Vestibulum efficitur condimentum orci a semper. Pellentesque ut metus pretium lacus maximus semper. Sed tellus augue, consectetur rhoncus eleifend vel, imperdiet nec turpis. Nulla ligula ante, malesuada quis orci a, ultricies blandit elit.

% % Numbered question, with subquestions in an enumerate environment
% \begin{question}
% 	Quisque ullamcorper placerat ipsum. Cras nibh. Morbi vel justo vitae lacus tincidunt ultrices. Lorem ipsum dolor sit amet, consectetuer adipiscing elit.

% 	% Subquestions numbered with letters
% 	\begin{enumerate}[(a)]
% 		\item Do this.
% 		\item Do that.
% 		\item Do something else.
% 	\end{enumerate}
% \end{question}
	
% %------------------------------------------------

% \subsection{Algorithmic issues}

% In malesuada ullamcorper urna, sed dapibus diam sollicitudin non. Donec elit odio, accumsan ac nisl a, tempor imperdiet eros. Donec porta tortor eu risus consequat, a pharetra tortor tristique. Morbi sit amet laoreet erat. Morbi et luctus diam, quis porta ipsum. Quisque libero dolor, suscipit id facilisis eget, sodales volutpat dolor. Nullam vulputate interdum aliquam. Mauris id convallis erat, ut vehicula neque. Sed auctor nibh et elit fringilla, nec ultricies dui sollicitudin. Vestibulum vestibulum luctus metus venenatis facilisis. Suspendisse iaculis augue at vehicula ornare. Sed vel eros ut velit fermentum porttitor sed sed massa. Fusce venenatis, metus a rutrum sagittis, enim ex maximus velit, id semper nisi velit eu purus.

% \begin{center}
% 	\begin{minipage}{0.5\linewidth} % Adjust the minipage width to accomodate for the length of algorithm lines
% 		\begin{algorithm}[H]
% 			\KwIn{$(a, b)$, two floating-point numbers}  % Algorithm inputs
% 			\KwResult{$(c, d)$, such that $a+b = c + d$} % Algorithm outputs/results
% 			\medskip
% 			\If{$\vert b\vert > \vert a\vert$}{
% 				exchange $a$ and $b$ \;
% 			}
% 			$c \leftarrow a + b$ \;
% 			$z \leftarrow c - a$ \;
% 			$d \leftarrow b - z$ \;
% 			{\bf return} $(c,d)$ \;
% 			\caption{\texttt{FastTwoSum}} % Algorithm name
% 			\label{alg:fastTwoSum}   % optional label to refer to
% 		\end{algorithm}
% 	\end{minipage}
% \end{center}

% Fusce varius orci ac magna dapibus porttitor. In tempor leo a neque bibendum sollicitudin. Nulla pretium fermentum nisi, eget sodales magna facilisis eu. Praesent aliquet nulla ut bibendum lacinia. Donec vel mauris vulputate, commodo ligula ut, egestas orci. Suspendisse commodo odio sed hendrerit lobortis. Donec finibus eros erat, vel ornare enim mattis et.

% % Numbered question, with an optional title
% \begin{question}[\itshape (with optional title)]
% 	In congue risus leo, in gravida enim viverra id. Donec eros mauris, bibendum vel dui at, tempor commodo augue. In vel lobortis lacus. Nam ornare ullamcorper mauris vel molestie. Maecenas vehicula ornare turpis, vitae fringilla orci consectetur vel. Nam pulvinar justo nec neque egestas tristique. Donec ac dolor at libero congue varius sed vitae lectus. Donec et tristique nulla, sit amet scelerisque orci. Maecenas a vestibulum lectus, vitae gravida nulla. Proin eget volutpat orci. Morbi eu aliquet turpis. Vivamus molestie urna quis tempor tristique. Proin hendrerit sem nec tempor sollicitudin.
% \end{question}

% Mauris interdum porttitor fringilla. Proin tincidunt sodales leo at ornare. Donec tempus magna non mauris gravida luctus. Cras vitae arcu vitae mauris eleifend scelerisque. Nam sem sapien, vulputate nec felis eu, blandit convallis risus. Pellentesque sollicitudin venenatis tincidunt. In et ipsum libero. Nullam tempor ligula a massa convallis pellentesque.

% %----------------------------------------------------------------------------------------
% %	PROBLEM 2
% %----------------------------------------------------------------------------------------

% \section{Implementation}

% Proin lobortis efficitur dictum. Pellentesque vitae pharetra eros, quis dignissim magna. Sed tellus leo, semper non vestibulum vel, tincidunt eu mi. Aenean pretium ut velit sed facilisis. Ut placerat urna facilisis dolor suscipit vehicula. Ut ut auctor nunc. Nulla non massa eros. Proin rhoncus arcu odio, eu lobortis metus sollicitudin eu. Duis maximus ex dui, id bibendum diam dignissim id. Aliquam quis lorem lorem. Phasellus sagittis aliquet dolor, vulputate cursus dolor convallis vel. Suspendisse eu tellus feugiat, bibendum lectus quis, fermentum nunc. Nunc euismod condimentum magna nec bibendum. Curabitur elementum nibh eu sem cursus, eu aliquam leo rutrum. Sed bibendum augue sit amet pharetra ullamcorper. Aenean congue sit amet tortor vitae feugiat.

% In congue risus leo, in gravida enim viverra id. Donec eros mauris, bibendum vel dui at, tempor commodo augue. In vel lobortis lacus. Nam ornare ullamcorper mauris vel molestie. Maecenas vehicula ornare turpis, vitae fringilla orci consectetur vel. Nam pulvinar justo nec neque egestas tristique. Donec ac dolor at libero congue varius sed vitae lectus. Donec et tristique nulla, sit amet scelerisque orci. Maecenas a vestibulum lectus, vitae gravida nulla. Proin eget volutpat orci. Morbi eu aliquet turpis. Vivamus molestie urna quis tempor tristique. Proin hendrerit sem nec tempor sollicitudin.

% % File contents
% \begin{file}[hello.py]
% \begin{lstlisting}[language=Python]
% #! /usr/bin/python

% import sys
% sys.stdout.write("Hello World!\n")
% \end{lstlisting}
% \end{file}

% Fusce eleifend porttitor arcu, id accumsan elit pharetra eget. Mauris luctus velit sit amet est sodales rhoncus. Donec cursus suscipit justo, sed tristique ipsum fermentum nec. Ut tortor ex, ullamcorper varius congue in, efficitur a tellus. Vivamus ut rutrum nisi. Phasellus sit amet enim efficitur, aliquam nulla id, lacinia mauris. Quisque viverra libero ac magna maximus efficitur. Interdum et malesuada fames ac ante ipsum primis in faucibus. Vestibulum mollis eros in tellus fermentum, vitae tristique justo finibus. Sed quis vehicula nibh. Etiam nulla justo, pellentesque id sapien at, semper aliquam arcu. Integer at commodo arcu. Quisque dapibus ut lacus eget vulputate.

% % Command-line "screenshot"
% \begin{commandline}
% 	\begin{verbatim}
% 		$ chmod +x hello.py
% 		$ ./hello.py

% 		Hello World!
% 	\end{verbatim}
% \end{commandline}

% Vestibulum sodales orci a nisi interdum tristique. In dictum vehicula dui, eget bibendum purus elementum eu. Pellentesque lobortis mattis mauris, non feugiat dolor vulputate a. Cras porttitor dapibus lacus at pulvinar. Praesent eu nunc et libero porttitor malesuada tempus quis massa. Aenean cursus ipsum a velit ultricies sagittis. Sed non leo ullamcorper, suscipit massa ut, pulvinar erat. Aliquam erat volutpat. Nulla non lacus vitae mi placerat tincidunt et ac diam. Aliquam tincidunt augue sem, ut vestibulum est volutpat eget. Suspendisse potenti. Integer condimentum, risus nec maximus elementum, lacus purus porta arcu, at ultrices diam nisl eget urna. Curabitur sollicitudin diam quis sollicitudin varius. Ut porta erat ornare laoreet euismod. In tincidunt purus dui, nec egestas dui convallis non. In vestibulum ipsum in dictum scelerisque.

% % Warning text, with a custom title
% \begin{warn}[Notice:]
%   In congue risus leo, in gravida enim viverra id. Donec eros mauris, bibendum vel dui at, tempor commodo augue. In vel lobortis lacus. Nam ornare ullamcorper mauris vel molestie. Maecenas vehicula ornare turpis, vitae fringilla orci consectetur vel. Nam pulvinar justo nec neque egestas tristique. Donec ac dolor at libero congue varius sed vitae lectus. Donec et tristique nulla, sit amet scelerisque orci. Maecenas a vestibulum lectus, vitae gravida nulla. Proin eget volutpat orci. Morbi eu aliquet turpis. Vivamus molestie urna quis tempor tristique. Proin hendrerit sem nec tempor sollicitudin.
% \end{warn}

% %----------------------------------------------------------------------------------------

\end{document}
